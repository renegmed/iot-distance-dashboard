<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Stations Monitoring System</title>
    </head>
    <body>
        <div id="station"></div>

        <label>Red:</label><div span="20" id="red"></div>
        <label>Green:</label><div span="20" id="green"></div>
        <label>Yellow:</label><div span="20" id="yellow"></div>
        
        <script type="text/javascript">
            var sockTime = null;
            var wsServerAddress = "ws://localhost:8080";

            var station = document.getElementById("station");
 

            window.onload = function() {
               
                sockDistance = new WebSocket(wsServerAddress + "/wsdistance");
                sockDistance.onmessage = function(e) { 
                    document.getElementById("station").innerHTML = e.data;
                    data = e.data.split(" ");
                    console.log(data[0]);
                    console.log(data[1]);
                    document.getElementById("red").innerHTML = "OFF";
                    document.getElementById("green").innerHTML = "OFF";
                    document.getElementById("yellow").innerHTML = "OFF";
                    color = data[1]
                    document.getElementById(color).innerHTML = "ON";
                } 
                sockLightOn = new WebSocket(wsServerAddress + "/wslighton");
                sockLightOn.onmessage = function(e) { 
                    document.getElementById("red").innerHTML = "OFF";
                    document.getElementById("green").innerHTML = "OFF";
                    document.getElementById("yellow").innerHTML = "OFF";
                    color = e.data
                    document.getElementById(color).innerHTML = "ON";
                } 
            }
       
        </script>
    </body>
</html>