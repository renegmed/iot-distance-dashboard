<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Stations Monitoring System</title>
    </head>
    <body>
        <table>
            <tr>
                <div>
                    <label>Distance:</label><span col="10" id="station"></span>
                </div> 
            </tr>             
        </table>
        <table>
            <tr>
                <div>
                    <label>Red:</label><span col="10" id="red"></span>
                </div> 
            </tr>
            <tr>
                <div>
                    <label>Green:</label><span col="10" id="green"></span>
                </div> 
            </tr>
            <tr>
                <div>
                    <label>Yellow:</label><span col="10" id="yellow"></span>
                </div> 
            </tr>             
        </table>
        

        
        <script type="text/javascript">
            var sockTime = null;
            var wsServerAddress = "ws://localhost:8080";

            var station = document.getElementById("station");
 

            window.onload = function() {
               
                sockDistance = new WebSocket(wsServerAddress + "/wsdistance");
                sockDistance.onmessage = function(e) { 
                   
                    data = e.data.split(" ");
                    console.log(data[0]);
                    console.log(data[1]);
                    document.getElementById("station").innerHTML = data[0];
                    document.getElementById("red").innerHTML = "OFF";
                    document.getElementById("green").innerHTML = "OFF";
                    document.getElementById("yellow").innerHTML = "OFF";
                    color = data[1]
                    document.getElementById(color).innerHTML = "ON";
                }  
            }
       
        </script>
    </body>
</html>